<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script>
function printMousePos(event) {
  xOffset = document.getElementById('img').offsetLeft
  yOffset = document.getElementById('img').offsetTop
  document.getElementById('test').innerHTML = "x: " +  event.clientX + ", y: " +  event.clientY + ", xOffset:" + xOffset + ", yOffset:" + yOffset;
  $.ajax({
    type: "POST",
    url: "/test",
    contentType: "application/json",
    data: JSON.stringify({"x": event.clientX-xOffset,"y": event.clientY-yOffset}),
    success: function () {
        console.log("This is never getting printed!!")
    }
  });
}

document.addEventListener("click", printMousePos);
</script>
<!doctype html>
<html lang="en">
<head>
  <title>Flask</title>
</head>
<body>
  <h3>Live Streaming</h3>
  <div id="example">
    <p id="test">x: , y:</p>
  </div>
  <img id="img" src="/static/lena.jpg">

</body>
</html>

